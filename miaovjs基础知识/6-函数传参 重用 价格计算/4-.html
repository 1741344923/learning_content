<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>函数传参</title>
        <script>
            /* 重用代码
             1、尽量保证HTML 代码结构一致
             2、把核心主程序实现 用函数包起来
             3、把每组不同的值找出来 通过传参实现
             */

            window.onload = function () {
                var oUl = document.getElementById('list');
                var aLi = oUl.getElementsByTagName('li');

                /*fn1( aLi[0] );
                fn1( aLi[1] );
                fn1( aLi[2] );*/

                for ( var i=0;i<aLi.length;i++ ){
                    fn1( aLi[i] );
                }

                function fn1(oLi) {
                    var aBtn = oLi.getElementsByTagName('input');
                    var oStrong = oLi.getElementsByTagName('strong')[0];
                    var oEm = oLi.getElementsByTagName('em')[0];
                    var oSpan = oLi.getElementsByTagName('span')[0];
                    var n1 = Number( oStrong.innerHTML ); // '0' => 0
                    var n2 = parseFloat( oEm.innerHTML ); //'12.5元' => 12.5

                    aBtn[0].onclick = function () {
                        n1 --;
                        if ( n1<0 ){
                            n1=0;
                        }
                        oStrong.innerHTML = n1;
                        oSpan.innerHTML = n1*n2;
                    };

                    aBtn[1].onclick = function () {
                        //n1 +=1;
                        n1 ++;
                        //console.log(n1);
                        oStrong.innerHTML = n1;
                        oSpan.innerHTML = n1*n2;
                    }
                }
            }
        </script>
    </head>
    <body>
        <ul id="list">
            <li>
                <input type="button" value="-"/>
                <strong>0</strong>
                <input type="button" value="+"/>
                单价: <em>12.5</em>
                小计: <span>0元</span>
            </li>
            <li>
                <input type="button" value="-"/>
                <strong>0</strong>
                <input type="button" value="+"/>
                单价: <em>10.5</em>
                小计: <span>0元</span>
            </li>
            <li>
                <input type="button" value="-"/>
                <strong>0</strong>
                <input type="button" value="+"/>
                单价: <em>8.5</em>
                小计: <span>0元</span>
            </li>
            <li>
                <input type="button" value="-"/>
                <strong>0</strong>
                <input type="button" value="+"/>
                单价: <em>12.5</em>
                小计: <span>0元</span>
            </li>
        </ul>
        <p>商品合计共: 0件，共花费了:0元； <br/>
        其中最贵的商品单价是: 0元
        </p>
    </body>
</html>